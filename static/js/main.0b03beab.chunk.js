(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(44)},38:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(30),l=a.n(c),i=(a(38),a(5)),s=a(6),o=a(8),m=a(7),u=a(9),p=a(2),d=a(4),E="https://www.omdbapi.com/",g="6ef9ae7",h=a(11),v=Object(h.a)(),b=function(e){return function(t){return t({type:"START_FETCHING"}),t({type:"SET_PAGE",payload:e.page}),fetch("".concat(E,"?").concat("apikey","=").concat(g,"&s=").concat(e.q,"&page=").concat(e.page)).then(function(e){return e.json()}).then(function(e){t({type:"SET_MOVIE_LIST",payload:e})})}},f=a(3),N=Object(f.b)(null,function(e){return{signOut:function(){return e((v.push("/signin"),{type:"SIGNOUT_USER_SUCCESS"}))}}})(function(e){var t=e.profile;return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(p.c,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/movies"},"Explore")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/signin",onClick:e.signOut},"Log Out")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/",className:"btn btn-floating pulse pink lighten-1"},t.name[0])))}),y=function(e){return r.a.createElement("ul",{className:"right"},r.a.createElement("li",null,r.a.createElement(p.c,{to:"/signup"},"Signup")),r.a.createElement("li",null,r.a.createElement(p.c,{to:"/signin"},"Login")))},O=Object(f.b)(function(e){return{loggedIn:e.loggedIn,currentUser:e.currentUser}})(function(e){var t=e.loggedIn,a=e.currentUser,n=t?r.a.createElement(N,{profile:a}):r.a.createElement(y,null);return r.a.createElement("nav",{className:"nav-wrapper grey darken-3"},r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{to:"/",className:"brand-logo"},r.a.createElement("i",{className:"material-icons prefix nav__link__image"},"theaters"),"Cinema"),n))}),j=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"image",value:function(){return this.props.data.Poster&&"N/A"===this.props.data.Poster?void 0:r.a.createElement("img",{src:this.props.data.Poster,className:"img-fluid",alt:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"card col m4 hoverable large card-main image-container-card"},r.a.createElement("div",{className:"card-image waves-effect waves-block waves-light movieitem__image"},this.image()),r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},this.props.data.Title),r.a.createElement("p",{className:"card-text"},"Released: ",this.props.data.Year,", Type: ",this.props.data.Type),r.a.createElement("div",{className:"card-action"},r.a.createElement(p.b,{to:"/detail/".concat(this.props.data.imdbID),className:"btn btn-primary"},"Read more"))))}}]),t}(n.Component),I=function(e){return r.a.createElement("div",{className:"alert alert-danger fade in alert-dismissible"},r.a.createElement("strong",null,e.error))},w=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;return this.props.loggedIn?(e=this.props.reviewedList&&this.props.reviewedList.length?this.props.reviewedList.map(function(e,t){return r.a.createElement(j,{key:t,data:e})}):r.a.createElement(I,{error:"No movies reviewed yet. Explore and review!"}),r.a.createElement("div",{className:"dashboard center container"},r.a.createElement("div",{className:"row"},r.a.createElement("br",null),r.a.createElement("div",{className:"col m12 s12"},r.a.createElement("p",null,"Reviewed Movies"),e)))):r.a.createElement(d.a,{to:"/signin"})}}]),t}(n.Component),S=Object(f.b)(function(e){return{loggedIn:e.loggedIn,reviewedList:e.reviewedList}})(w),C=a(16),_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.submitUserDetails=function(e){e.preventDefault(),a.props.signIn(a.state)},a.inputValueChanged=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.authError;return t?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.submitUserDetails,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Sign In"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{required:!0,type:"email",id:"email",onChange:this.inputValueChanged})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{required:!0,type:"password",id:"password",onChange:this.inputValueChanged})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn lighten-1 z-depth-2"},"Login")),r.a.createElement("div",{className:"center red-text text-darken-3"},a?r.a.createElement(I,{error:"Please enter a valid email or password"}):null)))}}]),t}(n.Component),k=Object(f.b)(function(e){return{authError:e.authError,loggedIn:e.loggedIn}},function(e){return{signIn:function(t){return e(function(e){var t=JSON.parse(localStorage.getItem("state")),a=t&&t.users?t.users.find(function(t){return t.email===e.email&&t.password===e.password}):null;return a?(v.push("/"),{type:"SIGNIN_USER_SUCCESS",payload:a}):{type:"SIGNIN_USER_FAILURE"}}(t))}}})(_),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",name:"",contact:"",address:""},a.submitUserDetails=function(e){e.preventDefault(),a.props.signUp(a.state)},a.inputValueChanged=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.authError;return t?r.a.createElement(d.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.submitUserDetails,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"Register"),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",required:!0,id:"name",onChange:this.inputValueChanged})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",required:!0,id:"email",onChange:this.inputValueChanged})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"contact"},"Contact"),r.a.createElement("input",{type:"text",id:"contact",onChange:this.inputValueChanged})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("input",{type:"text",id:"address",onChange:this.inputValueChanged})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",required:!0,id:"password",onChange:this.inputValueChanged})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn lighten-1 z-depth-2"},"Register")),r.a.createElement("div",{className:"center red-text text-darken-3"},a?r.a.createElement(I,{error:"Please enter valid data."}):null)))}}]),t}(n.Component),U=Object(f.b)(function(e){return{authError:e.authError,loggedIn:e.loggedIn}},function(e){return{signUp:function(t){return e(function(e){var t=JSON.parse(localStorage.getItem("state"));return t&&t.users&&t.users.filter(function(t){return t.email===e.email}).length>0?{type:"SIGNUP_USER_FAILURE",payload:e}:(v.push("/"),{type:"SIGNUP_USER_SUCCESS",payload:e})}(t))}}})(R),x=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).goBack=function(){a.props.history.goBack()},a.componentDidMount=function(){a.props.getMovieDetail(a.props.match.params.imdbID)},a.movieReview=function(){a.props.history.push("/moviereview")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"image",value:function(){return this.props.item.Poster&&"N/A"===this.props.item.Poster?void 0:r.a.createElement("img",{src:this.props.item.Poster,className:"img-fluid",alt:""})}},{key:"render",value:function(){return this.props.loggedIn?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col s12 m7"},r.a.createElement("br",null),r.a.createElement("div",{className:"card horizontal"},r.a.createElement("div",{className:"card-image"},this.image()),r.a.createElement("div",{className:"card-stacked"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-block"},r.a.createElement("h4",{className:"card-title"},this.props.item.Title),r.a.createElement("p",{className:"card-text card-meta"},"Released: ",this.props.item.Year,", Type: ",this.props.item.Type),r.a.createElement("strong",null,"Plot"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Plot),r.a.createElement("strong",null,"Genre"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Genre),r.a.createElement("strong",null,"Director"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Director),r.a.createElement("strong",null,"Actors"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Actors),r.a.createElement("strong",null,"IMDB Rating"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},r.a.createElement("a",{href:"https://www.imdb.com/title/".concat(this.props.item.imdbID,"/")},this.props.item.imdbRating)," (",this.props.item.imdbVotes," Votes)"),r.a.createElement("strong",null,"Runtime"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Runtime),r.a.createElement("strong",null,"Rated"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Rated),r.a.createElement("strong",null,"Date Released"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Released),r.a.createElement("strong",null,"Country (Language)"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Country," (",this.props.item.Language,")"),r.a.createElement("strong",null,"Production"),r.a.createElement("hr",null),r.a.createElement("p",{className:"card-text"},this.props.item.Production))),r.a.createElement("div",{className:"read-more"}),r.a.createElement("div",{className:"card-action"},r.a.createElement("button",{className:"btn btn-default movie__button",onClick:this.movieReview},"Review"),r.a.createElement("button",{onClick:this.goBack,className:"btn btn-default"},"Back")))))):r.a.createElement(d.a,{to:"/signin"})}}]),t}(n.Component),L=Object(f.b)(function(e){return{loggedIn:e.loggedIn,item:e.item}},function(e){return{getMovieDetail:function(t){return e(function(e){return function(t){return t({type:"START_FETCHING"}),fetch("".concat(E,"?").concat("apikey","=").concat(g,"&i=").concat(e,"&plot=full&r=json")).then(function(e){return e.json()}).then(function(e){t({type:"SET_MOVIE_DETAIL",payload:e})})}}(t))}}})(x),T=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.search=function(e){e.preventDefault(),0!==a.state.search.length&&(a.props.props.history.push("/movies?q=".concat(a.state.search)),"list-page"===a.props.caller&&a.props.getMovieList({q:a.state.search,page:1}))},a.inputValueChanged=function(e){a.setState(Object(C.a)({},e.target.id,e.target.value))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.loggedIn?r.a.createElement("div",{className:"row"},r.a.createElement("form",{onSubmit:this.search,className:"col s12"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("i",{className:"material-icons prefix"},"search"),r.a.createElement("input",{id:"search",type:"text",onChange:this.inputValueChanged}),r.a.createElement("label",{htmlFor:"search"},"Enter Movie Title")),r.a.createElement("button",{className:"waves-effect waves-light btn-small"},"Submit"))):r.a.createElement(d.a,{to:"/signin"})}}]),t}(n.Component),q=Object(f.b)(function(e){return{loggedIn:e.loggedIn}},function(e){return{getMovieList:function(t){return e(b(t))}}})(T),A=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).prevClick=function(){var e=a.props.q.replace("?q=","");a.props.getMovieList({q:e,page:Number(a.props.page)-1})},a.nextClick=function(){var e=a.props.q.replace("?q=","");a.props.getMovieList({q:e,page:Number(a.props.page)+1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.items.totalResults>10&&r.a.createElement("div",{className:"row"},r.a.createElement("nav",{className:"row"},Number(this.props.page)>1?r.a.createElement(p.b,{to:"/movies?q=".concat(this.props.q,"&page=").concat(Number(this.props.page)-1),className:"btn btn-sm btn-primary",onClick:this.prevClick.bind(this)},"Previous"):null,r.a.createElement(p.b,{to:"/movies?q=".concat(this.props.q,"&page=").concat(Number(this.props.page)+1),className:"btn btn-sm btn-primary",onClick:this.nextClick.bind(this)},"Next"))))}}]),t}(n.Component),V=Object(f.b)(function(e){return{items:e.items,page:e.page}},function(e){return{getMovieList:function(t){return e(b(t))}}})(A),D=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){if(0!==this.props.location.search.length){var e=this.props.location.search.replace("?q=","");this.props.getMovieList({q:e,page:this.props.page})}}},{key:"render",value:function(){var e;return e=this.props.items&&this.props.items.Search?this.props.items.Search.map(function(e,t){return r.a.createElement(j,{key:t,data:e})}):r.a.createElement(I,{error:"Not Found!"}),r.a.createElement("div",{className:"container center"},r.a.createElement("div",{className:"row search-form movie-list"},r.a.createElement(q,{props:this.props,colClass:"",caller:"list-page"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col m12 s12"},e)),r.a.createElement(V,{q:this.props.location.search,page:this.props.page}))}}]),t}(n.Component),P=Object(f.b)(function(e){return{page:e.page,items:e.items}},function(e){return{getMovieList:function(t){return e(b(t))}}})(D),M=Object(f.b)(function(e){return{loggedIn:e.loggedIn,currentItem:e.item}},function(e){return{movieReview:function(t){return e(function(e){return{type:"MOVIE_REVIEW",payload:e}}(t))}}})(function(e){return e.loggedIn?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card col m4 hoverable large card-main image-container-card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{action:"#",className:"col m4"},r.a.createElement("div",null,"Rating:"),r.a.createElement("p",{className:"range-field"},r.a.createElement("input",{type:"range",step:"1",id:"movierange",min:"0",max:"10",onChange:function(e){e&&e.target&&e.target.value&&console.log(e.target.value)}})),r.a.createElement("div",null,"How likely you are to recommend the movie:"),r.a.createElement("br",null),r.a.createElement("div",{className:"moviereview__chip"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"group1",type:"radio"}),r.a.createElement("span",null,"Less")))),r.a.createElement("div",{className:"moviereview__chip"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"group1",type:"radio"}),r.a.createElement("span",null,"Very")))),r.a.createElement("div",{className:"moviereview__chip"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"group1",type:"radio"}),r.a.createElement("span",null,"Extremely"))))),r.a.createElement("div",{className:"card-action center"},r.a.createElement("button",{onClick:function(){e.movieReview(e.currentItem),e.history.goBack()},className:"btn btn-primary movie__button"},"Submit"),r.a.createElement("button",{onClick:function(){e.history.goBack()},className:"btn btn-default"},"Back"))))):r.a.createElement(d.a,{to:"/signin"})}),G=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(O,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:S}),r.a.createElement(d.b,{path:"/signin",component:k}),r.a.createElement(d.b,{path:"/signup",component:U}),r.a.createElement(d.b,{path:"/movies",component:P}),r.a.createElement(d.b,{path:"/search",component:q}),r.a.createElement(d.b,{path:"/detail/:imdbID",component:L}),r.a.createElement(d.b,{path:"/moviereview",component:M}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(19),B=a(27),J=a(15),H={items:{Search:[],totalResults:0},page:1,item:{},isLoading:!1,authError:!1,users:[],loggedIn:!1,currentUser:{},reviewedList:[],q:""},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;return"SET_MOVIE_LIST"===t.type?Object(J.a)({},e,{items:t.payload,isLoading:!1}):"SET_MOVIE_DETAIL"===t.type?Object(J.a)({},e,{item:t.payload,isLoading:!1}):"START_FETCHING"===t.type?Object(J.a)({},e,{isLoading:!0}):"SET_PAGE"===t.type?Object(J.a)({},e,{page:t.payload}):"SIGNUP_USER_SUCCESS"===t.type?Object(J.a)({},e,{users:[].concat(Object(B.a)(e.users),[t.payload]),loggedIn:!0,authError:!1,currentUser:t.payload}):"SIGNUP_USER_FAILURE"===t.type?Object(J.a)({},e,{loggedIn:!1,authError:!0}):"SIGNIN_USER_SUCCESS"===t.type?Object(J.a)({},e,{loggedIn:!0,authError:!1,currentUser:t.payload}):"SIGNIN_USER_FAILURE"===t.type?Object(J.a)({},e,{loggedIn:!1,authError:!0}):"SIGNOUT_USER_SUCCESS"===t.type?Object(J.a)({},e,{loggedIn:!1,authError:!1,currentUser:{}}):"MOVIE_REVIEW"===t.type?Object(J.a)({},e,{reviewedList:[].concat(Object(B.a)(e.reviewedList),[t.payload])}):e},z=a(32),Y=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log("Error in loading local storage",t)}}(),$=Object(F.c)(W,Y,Object(F.a)(z.a));l.a.render(r.a.createElement(f.a,{store:$},r.a.createElement(G,null)),document.getElementById("root")),$.subscribe(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log("Error in saving local storage",a)}}($.getState())}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.0b03beab.chunk.js.map